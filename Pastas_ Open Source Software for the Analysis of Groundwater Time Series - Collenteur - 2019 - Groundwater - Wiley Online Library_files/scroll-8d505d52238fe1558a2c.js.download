(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{252:function(e,t,o){var n;n={pageHeaderHeight:$(".pageHeader").outerHeight(),coolbarHeight:0,pagesNavHeight:0,$coolBar:$(".coolBar"),$pagesNav:$(".pages-nav"),vPortMd:"screen-md",isVPortMd:!1,isTablet:!1,init:function init(){n.control()},control:function control(){$(document).on(n.vPortMd+"-on",(function(){n.isTablet=!0})),$(document).on(n.vPortMd+"-off",(function(){n.isTablet=!1})),$("a[href$='#support-information-section']").on("click",(function(){$(".article-section__supporting a.accordion__control").trigger("click")})),$("a[href$='#open-research-section']").on("click",(function(){$(".article-section__open-research a.accordion__control").trigger("click")})),$("a[href^='#references-section']").on("click",(function(){var e=$(this),t=$(e.attr("href"));t.closest(".accordion__control").hasClass("js--open")||t.closest(".accordion__control").trigger("click")})),$("body").on("click",'[data-db-target-of=sections] a, .scrollableLink, .scrollableLinks a, .comment-link a, .PdfLink a[href="#accessDenialLayout"], .article-section__full a[href*="#"]',(function(e){var t=this,o=$(this);o.hasClass("open-figure-link")||o.hasClass("bibLink")||o.hasClass("tab-link")||o.closest(".figure__toggle-link").length||(e.preventDefault(),e.stopPropagation(),$("body, html").removeClass("lock-screen"),o.hasClass("noteLink")?(n.openFootNote(this),window.addEventListener("resize",(function(){n.openFootNote(t)}))):o.hasClass("backToText")?$(o.attr("href")).focus():o.hasClass("goToText")||o.closest(".article-header__references-container").length||o.attr("href").indexOf("#accessDenialLayout")>-1?(n.scrollToTarget(this,!0),$(o.attr("href")).focus()):(n.scrollToTarget(this,!0),UX.dropBlock.on.hide(),n.isTablet&&$("[data-db-target-of=sections], .w-slide__back").trigger("click")),o.parents(".sections__drop.js--open").length&&UX.dropBlock.on.hide())})),$(document).on("keydown",(function(e){var t;27===e.keyCode&&($(".noteLink.scrollableLink").attr("aria-expanded","false"),$(".noteLink.scrollableLink").removeAttr("aria-controls"),null===(t=$(".footNotePopup")[0])||void 0===t||t.remove())}))},openFootNote:function openFootNote(e){var t,o;null===(t=document.querySelectorAll(".footNotePopup"))||void 0===t||t.forEach((function(e){e.remove()})),null===(o=document.querySelectorAll(".noteLink.scrollableLink"))||void 0===o||o.forEach((function(e){e.setAttribute("aria-expanded","false")}));var a=n.createFootNote(e),s=a.noteContainer,i=a.chevronDown,c=a.noteClose,r=n.isNodeInsideNode(e,"TBODY");r?r.appendChild(s):document.body.appendChild(s);var l=s.offsetHeight,d=0,f=0,u=0,h=0,p=0;r?(d=e.offsetTop,f=e.offsetLeft,u=e.offsetLeft-r.offsetLeft,h=r.offsetWidth,p=r.offsetHeight,s.classList.add("insideTable")):(d=e.getBoundingClientRect().top+document.documentElement.scrollTop,f=e.getBoundingClientRect().left,u=e.offsetLeft,h=e.parentElement.offsetWidth),n.isNodeInsideNode(e,"THEAD")?(i.classList.add("inverse"),s.style.top="".concat(d+35,"px"),s.classList.add("insideHead")):s.style.top="".concat(d-l-5,"px"),h/2>u?(s.style.left="".concat(f+2,"px"),i.classList.add("left")):(s.style.left="".concat(f-s.offsetWidth+22,"px"),i.classList.add("right")),p/2>d&&(i.classList.add("inverse"),s.style.top="".concat(d+35,"px")),c.addEventListener("click",(function(){e.setAttribute("aria-expanded","false"),e.removeAttribute("aria-controls"),s.remove()}))},scrollToTarget:function scrollToTarget(e,t){var o,a=null,s=t?document.getElementById(e.hash.slice(1)):e,i=t?$(s):s,c=$(".page-header").hasClass("fixed-element")?$(".pageHeader").outerHeight():0,r=0,l=0,d=$(".coolBar"),f=$(".pages-nav"),u=$(".pages-nav.stickybar");if(d.length&&(r=d.find(".coolBar__wrapper").outerHeight()),f.length&&f.find(".main-nav").length&&(l=f.hasClass("stickybar--sticky")&&!f.find(".main-nav").hasClass("menu--res")?f.find(".main-nav").outerHeight():n.isTablet?f.outerHeight()+10:u.outerHeight()+10),(i=i.length?i:$('[name="'+e.hash.slice(1)+'"]')).closest(".accordion__control").length&&i.closest(".article-section__citedBy").length){var h=i.closest(".article-section__citedBy").find(".accordion__control");h.hasClass("js--open")||h[0].click()}else i.closest(".accordion__control").length&&!i.closest(".accordion__control").hasClass("js--open")&&i.closest(".accordion__control").trigger("click");o=c+l+r+10,a=i.offset().top,n.isIE()&&(a=i.offset().top-60),i.length&&($("html,body").animate({scrollTop:a-o},500),i.attr("tabindex","0").focus(),i.is("a")||i.is("button")||i.attr("tabindex","-1"))},isIE:function isIE(){return!!document.documentMode},createFootNote:function createFootNote(e){var t=document.createElement("div"),o=document.createElement("button"),n=document.createElement("i"),a=document.createElement("div"),s=document.createElement("span");t.classList.add("footNotePopup"),o.classList.add("footNoteClose"),n.classList.add("icon-tools_close"),n.setAttribute("aria-hidden","true"),a.classList.add("footNotePopup__item"),s.classList.add("chevronDown"),t.appendChild(o),t.appendChild(a),t.appendChild(s),o.appendChild(n);var i=e.getAttribute("data-noteid"),c=e.getAttribute("id"),r=e.getAttribute("href").substring(1),l=document.querySelector("li#".concat(i)).innerHTML;return a.innerHTML=l,e.setAttribute("aria-expanded","true"),t.setAttribute("id",r),e.setAttribute("aria-controls",r),t.setAttribute("aria-labelledby",c),{noteContainer:t,chevronDown:s,noteClose:o}},isNodeInsideNode:function isNodeInsideNode(e,t){return e.tagName===t?e:e.parentNode!==document.body&&this.isNodeInsideNode(e.parentNode,t)}},UX.scroll=n}}]);
//# sourceMappingURL=scroll-8d505d52238fe1558a2c.js.map