(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{191:function(e,t,o){"use strict";o.d(t,"a",(function(){return i}));var n=o(10),a=o.n(n),r=o(11),s=o.n(r),i=(o(192),function(){function TableOfContent(){var e=this;a()(this,TableOfContent),this.classList={hidden:"hidden",fancyboxClose:"fancybox-close"},this.selectors={menuBookTab:".menuBook--tab",authorBio:"#authorBio",bookReviews:"#bookReviews",abstractPreviewZoom:".abstract-preview__zoom",abstractLastFocus:"[data-lastFocus]",dataMathjax:"[data-mathjax]",fancyboxClose:".fancybox-close",readCubeSharing:".readCube-sharing",shareCtrl:".share__ctrl",shareAccessCtrl:".share-access__ctrl",dropBlockHolder:".dropBlock__holder",tocAbstractPreview:".table-of-content .abstract-preview"},this.elements={menuBookTab:null,abstractPreviewZoom:null,dataMathjax:null,readCubeSharing:null,shareCtrl:null,tocAbstractPreview:null},this.abstractPreviewZoom=function(t){t.stopPropagation();var o=t.keyCode?t.keyCode:t.which;13!==o&&27!==o||(e.elements.abstractPreviewZoom.forEach((function(e){e.removeAttribute("attrName"),e.setAttribute("success","true")})),t.target.setAttribute("data-lastFocus","true"))},this.checkMenuItem=function(t){if(!document.querySelector("".concat(t,"-pane"))){var o=e.convertToArray(document.querySelectorAll(t));o.length&&o.forEach((function(e){(null==e?void 0:e.parentElement).removeChild(e)}))}},this.fancyboxClose=function(t){if(t.target.classList.contains(e.classList.fancyboxClose)){var o=t.keyCode?t.keyCode:t.which;if(t.preventDefault(),13===o||27===o){var n=document.querySelector(e.selectors.abstractLastFocus);$.fancybox.close(),n.focus()}else 9!==o&&16!==o||(t.preventDefault(),t.target.focus())}},this.convertToArray=function(e){return Array.prototype.slice.call(e)},this.setElements(),this.eventListeners(),this.onReady(),this.onLoad()}return s()(TableOfContent,[{key:"setElements",value:function setElements(){this.elements.menuBookTab=document.querySelector(this.selectors.menuBookTab),this.elements.abstractPreviewZoom=this.convertToArray(document.querySelectorAll(this.selectors.abstractPreviewZoom)),this.elements.dataMathjax=document.querySelector(this.selectors.dataMathjax),this.elements.readCubeSharing=document.querySelector(this.selectors.readCubeSharing),this.elements.shareCtrl=document.querySelector(this.selectors.shareCtrl),this.elements.tocAbstractPreview=this.convertToArray(document.querySelectorAll(this.selectors.tocAbstractPreview))}},{key:"eventListeners",value:function eventListeners(){var e=this;this.elements.abstractPreviewZoom.length&&this.elements.abstractPreviewZoom.forEach((function(t){t.addEventListener("keydown",e.abstractPreviewZoom)})),document.addEventListener("keydown",this.fancyboxClose)}},{key:"onReady",value:function onReady(){(this.checkMenuItem(this.selectors.authorBio),this.checkMenuItem(this.selectors.bookReviews),this.elements.menuBookTab)&&this.elements.menuBookTab.querySelector("li:first-child a").click();if(this.elements.dataMathjax&&this.elements.dataMathjax.classList.contains("toc-wrapper")&&UX.utils.mathJax(".toc-wrapper"),$(this.elements.abstractPreviewZoom).fancybox({helpers:{title:null},afterShow:function afterShow(){setTimeout((function(){document.querySelector(".fancybox-close").focus()}))}}),this.elements.readCubeSharing&&this.elements.shareCtrl){var e=this.elements.shareCtrl.parentElement,t=null==e?void 0:e.querySelector(this.selectors.shareAccessCtrl),o=null==e?void 0:e.querySelector(this.selectors.dropBlockHolder);this.elements.shareCtrl.classList.remove(this.classList.remove),null==t||t.classList.add(this.classList.remove),null==o||o.setAttribute("aria-labelledby","share__ctrl")}}},{key:"onLoad",value:function onLoad(){this.elements.tocAbstractPreview.length&&UX.utils.changeImageWidthOnLoad(this.selectors.tocAbstractPreview,1.75)}}]),TableOfContent}())},192:function(e,t){var o;o={$loa:null,vPort:"screen-xs",init:function init(){var e=$(".to-section");e.length?e.each((function(){var e=$(this).text(),t=$(this).attr("id");$('<li role="menuitem"><a class="w-slide__hide" href="#'+t+'"><span>'+e+"</span></a></li>").appendTo(".sections__drop")})):$(".toc-go-section, .toc__section").remove(),o.$loa=$(".issue-item .loa, .search__item .meta__authors, .search__item .loa"),o.control(),o.additionalControl()},control:function control(){$(window).on("load orientationchange",(function(e){o.truncate()})),$(document).on(o.vPort+"-on",(function(){o.isMobile=!0,o.truncate()})),$(document).on(o.vPort+"-off",(function(){o.isMobile=!1,o.truncate()}))},additionalControl:function additionalControl(){},truncate:function truncate(){try{o.$loa.not("[data-truncate='none']").truncate({lines:2,type:"list",seeMoreLink:!0,seeMoreText:"See all authors",seeLessText:"See fewer authors"})}catch(e){console.error(e)}}},UX.tocJs=o},318:function(e,t,o){"use strict";o.r(t);o(319),o(320),o(191);t.default=function main(e){var t=Array.prototype.slice.call(document.getElementsByClassName("js--truncate")),o=Array.prototype.slice.call(document.querySelectorAll(".loa, .meta__authors"));try{t.length&&e.truncater.init(t)}catch(e){console.error(e)}try{o.length&&e.tocJs.init(o)}catch(e){console.error(e)}}},319:function(e,t){UX.truncateInit={init:function init(){$(".creative-work__title").not("[data-truncate='none']").truncate({lines:3,addClass:"min-height"}),$(".creative-work .loa").not("[data-truncate='none']").truncate({lines:2,type:"list",addClass:"loa-height"}),$(".featured .grid-item:first-child .creative-work__title").not("[data-truncate='none']").truncate({lines:2,addClass:"min-height"}),$(".card .creative-work__title").not("[data-truncate='none']").truncate({lines:2,addClass:"min-height"}),$(".card .creative-work .loa").not("[data-truncate='none']").truncate({lines:1,type:"list",addClass:"loa-height"}),$(window).on("resized orientationchange",(function(){$(".creative-work__title, .creative-work .loa").not("[data-truncate='none']").truncate()}))}}},320:function(e,t){var o;o={$target:$(".js--truncate"),init:function init(){o.truncate()},truncate:function truncate(){o.$target.each((function(){$(this).truncate()}))}},UX.truncater=o}}]);
//# sourceMappingURL=truncate-1e15d7597242ead64627.js.map